// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.30.0
// source: address.sql

package customersqlc

import (
	"context"

	"github.com/jackc/pgx/v5/pgtype"
)

const countAddresses = `-- name: CountAddresses :one
SELECT count(*) FROM address
`

func (q *Queries) CountAddresses(ctx context.Context) (int64, error) {
	row := q.db.QueryRow(ctx, countAddresses)
	var count int64
	err := row.Scan(&count)
	return count, err
}

const createAddress = `-- name: CreateAddress :one
INSERT INTO address (address, address2, district, city_id, postal_code, phone)
VALUES ($1, $2, $3, $4, $5, $6)
RETURNING address_id, address, address2, district, city_id, postal_code, phone, last_update
`

type CreateAddressParams struct {
	Address    string      `json:"address"`
	Address2   pgtype.Text `json:"address2"`
	District   string      `json:"district"`
	CityID     int32       `json:"city_id"`
	PostalCode pgtype.Text `json:"postal_code"`
	Phone      string      `json:"phone"`
}

func (q *Queries) CreateAddress(ctx context.Context, arg CreateAddressParams) (Address, error) {
	row := q.db.QueryRow(ctx, createAddress,
		arg.Address,
		arg.Address2,
		arg.District,
		arg.CityID,
		arg.PostalCode,
		arg.Phone,
	)
	var i Address
	err := row.Scan(
		&i.AddressID,
		&i.Address,
		&i.Address2,
		&i.District,
		&i.CityID,
		&i.PostalCode,
		&i.Phone,
		&i.LastUpdate,
	)
	return i, err
}

const deleteAddress = `-- name: DeleteAddress :exec
DELETE FROM address WHERE address_id = $1
`

func (q *Queries) DeleteAddress(ctx context.Context, addressID int32) error {
	_, err := q.db.Exec(ctx, deleteAddress, addressID)
	return err
}

const getAddress = `-- name: GetAddress :one
SELECT address_id, address, address2, district, city_id, postal_code, phone, last_update
FROM address
WHERE address_id = $1
`

func (q *Queries) GetAddress(ctx context.Context, addressID int32) (Address, error) {
	row := q.db.QueryRow(ctx, getAddress, addressID)
	var i Address
	err := row.Scan(
		&i.AddressID,
		&i.Address,
		&i.Address2,
		&i.District,
		&i.CityID,
		&i.PostalCode,
		&i.Phone,
		&i.LastUpdate,
	)
	return i, err
}

const listAddresses = `-- name: ListAddresses :many
SELECT address_id, address, address2, district, city_id, postal_code, phone, last_update
FROM address
ORDER BY address_id
LIMIT $1 OFFSET $2
`

type ListAddressesParams struct {
	Limit  int32 `json:"limit"`
	Offset int32 `json:"offset"`
}

func (q *Queries) ListAddresses(ctx context.Context, arg ListAddressesParams) ([]Address, error) {
	rows, err := q.db.Query(ctx, listAddresses, arg.Limit, arg.Offset)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	items := []Address{}
	for rows.Next() {
		var i Address
		if err := rows.Scan(
			&i.AddressID,
			&i.Address,
			&i.Address2,
			&i.District,
			&i.CityID,
			&i.PostalCode,
			&i.Phone,
			&i.LastUpdate,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const updateAddress = `-- name: UpdateAddress :one
UPDATE address
SET address = $2,
    address2 = $3,
    district = $4,
    city_id = $5,
    postal_code = $6,
    phone = $7
WHERE address_id = $1
RETURNING address_id, address, address2, district, city_id, postal_code, phone, last_update
`

type UpdateAddressParams struct {
	AddressID  int32       `json:"address_id"`
	Address    string      `json:"address"`
	Address2   pgtype.Text `json:"address2"`
	District   string      `json:"district"`
	CityID     int32       `json:"city_id"`
	PostalCode pgtype.Text `json:"postal_code"`
	Phone      string      `json:"phone"`
}

func (q *Queries) UpdateAddress(ctx context.Context, arg UpdateAddressParams) (Address, error) {
	row := q.db.QueryRow(ctx, updateAddress,
		arg.AddressID,
		arg.Address,
		arg.Address2,
		arg.District,
		arg.CityID,
		arg.PostalCode,
		arg.Phone,
	)
	var i Address
	err := row.Scan(
		&i.AddressID,
		&i.Address,
		&i.Address2,
		&i.District,
		&i.CityID,
		&i.PostalCode,
		&i.Phone,
		&i.LastUpdate,
	)
	return i, err
}
